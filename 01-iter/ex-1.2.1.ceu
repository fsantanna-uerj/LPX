func Caracteres_next (it :Iterator) {
    if it.i < #it.s {
        val c = it.s[it.i]
        set it.i = it.i + 1
        c
    } else {
        nil
    }
}

func Caracteres (str) {
    [Caracteres_next, str, nil, 0]
}

loop in Caracteres("ola mundo"), c {
    println(c)
}
